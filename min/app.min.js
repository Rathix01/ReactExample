var http=require("http"),url=require("url"),path=require("path"),fs=require("fs");port=process.argv[2]||3030,http.createServer(function(t,e){var r=url.parse(t.url).pathname,n=path.join(process.cwd(),r),i={".html":"text/html",".css":"text/css",".js":"text/javascript",".svg":"image/svg+xml"};path.exists(n,function(t){return t?(fs.statSync(n).isDirectory()&&(n+="/index.html"),fs.readFile(n,"binary",function(t,r){if(t)return e.writeHead(500,{"Content-Type":"text/plain"}),e.write(t+"\n"),e.end(),void 0;var a={},s=i[path.extname(n)];s&&(a["Content-Type"]=s),e.writeHead(200,a),e.write(r,"binary"),e.end()}),void 0):(e.writeHead(404,{"Content-Type":"text/plain"}),e.write("404 Not Found\n"),e.end(),void 0)})}).listen(parseInt(port,10)),console.log("Static file server running at\n  => http://localhost:"+port+"/\nCTRL + C to shutdown");